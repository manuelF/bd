\section{Funcionalidad}

\begin{itemize}
	\item Primera funcionalidad:
		\begin{itemize}
			\item Enunciado: Mediante SQL escribir una consulta para obtener el nombre, apellido y nombre
			identificatorio de aquellos pasajeros que han viajado a todos los paises cubertis por la l\'inea
			a\'erea en los \'ultimos 5 a\~nos.

			\item Resoluci\'on:

			\lstinputlisting{primeraConsulta.sql}
		\end{itemize}
	\item Segunda funcionalidad:
		\begin{itemize}
			\item Enunciado: Controlar mediante alguna restricci\'on que un usuario no pueda realizar
			reservas que se superpongan en el tiempo. La \'unica excepci\'on que se permite consiste en
			que un usuario puede realizar a lo sumo dos reservas para la misma fecha de viaje entre los
			mismos aeropuertos de origen y destino, siempre que la fecha de partida no se encuentre dentro
			de los pr\'oximos 7 d\'ias.
			\item Resultado: Vamos a utilizar un \textit{trigger}:

			\lstinputlisting{segundaConsulta.sql}
		\end{itemize}
	\item Tercera funcionalidad:
		\begin{itemize}
			\item Enunciado: Implementaci\'on de alguna restricci\'on adicional que surga del dise\~no.			
			\item Resultado: Decidimos implementar la siguiente restricci\'on:

			\begin{quotation}
				Para cada viaje, la cantidad de asientos reservados para ese viaje (considerando tambi\'en los vuelos
				que no reservaron directamente sino que es solamente una escala en su viaje) para una clase determinada 
				no supera la cantidad de asientos para esa misma clase en la aeronave.
			\end{quotation}

			Esta restricci\'on la implementamos mediante un \textit{trigger} en la inserci\'on de una reserva. 
			
			\lstinputlisting{terceraConsulta.sql}
		\end{itemize}
\end{itemize}

